# 도미노(platinum 4)

### 문제 설명

도미노는 재밌다. 도미노 블록을 일렬로 길게 늘어세운 뒤 블록 하나를 넘어뜨리면 그 블록이 넘어지며 다음 블록을 넘어뜨리는 일이 반복되어 일렬로 늘어선 블록들을 연쇄적으로 모두 쓰러뜨릴 수 있다. 그러나, 가끔씩 도미노가 다른 블록을 넘어뜨리지 못하게 배치되어 있다면, 우리는 다음 블록을 수동으로 넘어뜨려야 한다.

이제 각 도미노 블록의 배치가 주어졌을 때, 모든 블록을 넘어뜨리기 위해 손으로 넘어뜨려야 하는 블록 개수의 최솟값을 구하자.

### 입력 형식

첫 번째 줄에 테스트 케이스의 개수가 주어진다.

각 테스트 케이스의 첫 번째 줄에는 두 정수 N, M이 주어지며 두 수는 100,000을 넘지 않는다. N은 도미노의 개수를, M은 관계의 개수를 나타낸다. 도미노 블록의 번호는 1과 N 사이의 정수다. 다음 M개의 줄에는 각각 두 정수 x, y가 주어지는데, 이는 x번 블록이 넘어지면 y번 블록도 넘어짐을 뜻한다.

### 출력 형식

각 테스트 케이스마다 한 줄에 정수 하나를 출력한다. 정답은 손으로 넘어뜨려야 하는 최소의 도미노 블록 개수이다.

#### 예시 1

- 입력

```
1
3 2
1 2
2 3
```

- 출력

```
1
```

### 알고리즘 분류

- 그래프 이론
- 위상 정렬
- 강한 연결 요소
- 방향 비순환 그래프

### 해결 방법

1. 그래프 초기화 및 입력:

   - 각 테스트 케이스마다 그래프를 초기화하고, 간선 정보를 입력받습니다.

2. DFS를 통한 SCC 탐색:

   - 각 노드에 대해 DFS를 수행하여 SCC를 찾습니다.
   - dfsn 배열을 통해 각 노드의 방문 순서를 기록하고, 스택을 사용하여 SCC를 추적합니다.
   - DFS 중 역방향 간선을 통해 사이클을 발견하여 SCC를 형성합니다.
   - SCC를 형성한 후 SCCnum 배열에 SCC 번호를 저장하고, finish 배열을 통해 노드가 SCC로 분리되었음을 표시합니다.

3. SCC 간의 진입 차수 계산:

   - SCC를 찾은 후, 각 SCC 간의 관계를 분석하여 진입 차수를 계산합니다.
   - indegree 배열을 사용하여 각 SCC의 진입 차수를 기록합니다.

4. 결과 계산 및 출력:

   - 진입 차수가 0인 SCC의 개수를 세어, 손으로 넘어뜨려야 하는 최소 도미노 블록 개수를 계산합니다.
   - 각 테스트 케이스에 대해 결과를 출력합니다.
